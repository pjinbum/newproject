# newproject

# **async await http 요청**

1. **API 호출!**
    - API 호출을 어디서 하느냐? 리액트 라이프 사이클 할 때 다뤘던 내용!
    - lifecycle function 중에 하나인 useEffect에서 API를 호출한다.
    - useEffect는 두 개의 파라미터를 가진다. (첫번째는 함수, 두번째는 Array)
    - 함수 안에서 API를 호출 해준다.
    - getProducts() 라는 함수 생성 후 내용 작성
    - 우리가 가져온 데이터를 저장만 해두는 게 아니라 UI에 보여줘야 하기 때문에 useState에 저장한다.

1. **fetch**
    - fetch 함수는 API를 호출하고 응답 데이터를 받아올 때 주로 사용한다.
    - fetch 함수는 브라우저에 내장 되어있어 별도의 설치없이 간편하게 HTTP 를 요청할 수 있다.
    - default로 HTTP 메소드 중 GET으로 동작한다.

****3. **async await http 요청** 

- 외부에서 데이터를 받아오는 함수가 있다고 가정해보자! 이 작업이 데이터가 많을 경우,  **'비동기 처리'** 를 하지 않으면, 자바스크립트는 코드를 차례대로 한 줄 처리하고 그 다음줄을 처리하는 식으로 코드를 **동기적**으로 처리한다.
- async와 await는 자바스크립트의 비동기 처리 패턴 중 가장 최근에 나온 문법이다. 기존의 비동기 처리 방식인 콜백 함수의 단점이 보완된 문법!
- 콜백함수로 할 경우, 콜백 안에 콜백 함수가 계속 중첩되는 방식으로 코딩을 해야 하는데, 이러한 구조는 가독성도 떨어지고 로직을 변경하기도 어렵다. 이런 구조를 **콜백지옥**이라고 한다. 콜백 지옥을 해결하는 방법도 있지만, 현재 우리가 배우는 **async와 await**를 사용하면 훨씬 쉽고 편하게 구현할 수 있다.

**비동기 처리가 대체 뭐냐?**

:  특정 코드의 실행이 완료될 때까지 기다리지 않고 다음 코드를 먼저 수행한다

**비동기 처리를 해야하는 이유**

:  서버로 데이터를 요청했을 때 서버가 언제 그 요청에 대한 응답할지 모르는데, 마냥 다른 코드를 실행하지 않고 기다리기만 할 순 없기 때문! 지금은 데이터가 몇 개 안되지만, 데이터가 엄청 많을 때 비동기 처리를 해주지 않으면 UI가 뜰 때 까지 시간히 굉장히 오래 걸릴 수 있다. ⇒ 유저 이탈 원인!

**사용방법**

1. 함수 앞에 `async`라는 예약어를 붙인다. 그 다음 함수의 내부 로직 중 HTTP 통신을 하는 비동기 처리 코드 앞에 `await`를 붙여준다.
2.  `await`를 함수 내에서 사용하려면 함수에 반드시 `async` 키워드가 있어야 한다.
3. 함수를 호출하고, 함수 본문이 실행될 때 실행이 잠시 중단 됐다가 프라미스가 처리되면 실행이 재개된다. 
4. `await`는 말 그대로 프라미스가 처리될 때까지 함수 실행을 기다리게 만든다. 프라미스가 처리되면 그 결과와 함께 실행이 재개된다. 프라미스가 처리되길 기다리는 동안엔 엔진이 다른 일(다른 코드 실행, 이벤트 처리 등)을 할 수 있기 때문에, CPU 리소스가 낭비되지 않는다. 

**그렇다면 프라미스는 또 뭐냐?**

: 자바스크립트 비동기 처리에 사용되는 객체
